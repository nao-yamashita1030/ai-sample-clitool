# 画面詳細設計: 設定画面

## 基本情報

- **画面名**: 設定画面
- **画面ID**: SCREEN-004
- **URL**: `/settings`
- **説明**: 調査オプションの設定を行う画面
- **対象ユーザー**: すべてのユーザー

## 画面の目的

- 調査オプションを設定する
- 設定を保存する

## レイアウト

### 画面構成

```
┌─────────────────────────────────────────┐
│           ヘッダー（戻るボタン）          │
├─────────────────────────────────────────┤
│                                         │
│  ┌─────────────────────────────────┐  │
│  │  設定フォーム                    │  │
│  │  最大ページ数: [入力]            │  │
│  │  最大階層レベル: [入力]          │  │
│  │  タイムアウト: [入力]            │  │
│  │  並列リクエスト数: [入力]         │  │
│  │  リトライ回数: [入力]            │  │
│  │  ドメイン制限: [選択]            │  │
│  │  ファイルタイプ: [選択]          │  │
│  └─────────────────────────────────┘  │
│                                         │
│  ┌─────────────────────────────────┐  │
│  │  アクションボタン                │  │
│  │  [保存] [キャンセル]            │  │
│  └─────────────────────────────────┘  │
│                                         │
└─────────────────────────────────────────┘
```

## 画面要素

### 要素1: 最大ページ数入力

- **要素名**: 最大ページ数入力
- **種類**: 数値入力欄
- **説明**: 調査する最大ページ数を設定
- **デフォルト値**: 1000
- **範囲**: 1-10000

### 要素2: 最大階層レベル入力

- **要素名**: 最大階層レベル入力
- **種類**: 数値入力欄
- **説明**: 調査する最大階層レベルを設定
- **デフォルト値**: 5
- **範囲**: 1-10

### 要素3: タイムアウト入力

- **要素名**: タイムアウト入力
- **種類**: 数値入力欄
- **説明**: タイムアウト時間（ミリ秒）を設定
- **デフォルト値**: 5000
- **範囲**: 1000-60000

### 要素4: 並列リクエスト数入力

- **要素名**: 並列リクエスト数入力
- **種類**: 数値入力欄
- **説明**: 同時に実行するHTTPリクエスト数を設定
- **デフォルト値**: 5
- **範囲**: 1-20

### 要素5: リトライ回数入力

- **要素名**: リトライ回数入力
- **種類**: 数値入力欄
- **説明**: リトライ回数を設定
- **デフォルト値**: 3
- **範囲**: 0-10

### 要素6: ドメイン制限選択

- **要素名**: ドメイン制限選択
- **種類**: ラジオボタン/セレクト
- **説明**: ドメイン制限を設定
- **選択肢**: 
  - 同一ドメインのみ
  - すべて

### 要素7: ファイルタイプ選択

- **要素名**: ファイルタイプ選択
- **種類**: チェックボックス
- **説明**: 調査対象のファイルタイプを選択
- **選択肢**: html, htm, php, asp, jspなど

## バリデーション

### 入力バリデーション

| 項目名 | バリデーション内容 | エラーメッセージ |
|-------|------------------|----------------|
| 最大ページ数 | 1以上10000以下 | "最大ページ数は1以上10000以下で入力してください" |
| 最大階層レベル | 1以上10以下 | "最大階層レベルは1以上10以下で入力してください" |
| タイムアウト | 1000以上60000以下 | "タイムアウト時間は1000ms以上60000ms以下で入力してください" |
| 並列リクエスト数 | 1以上20以下 | "並列リクエスト数は1以上20以下で入力してください" |
| リトライ回数 | 0以上10以下 | "リトライ回数は0以上10以下で入力してください" |

## 画面遷移

### 遷移元

- [メイン画面](./main-screen.md) → この画面（設定リンククリック）

### 遷移先

- この画面 → [メイン画面](./main-screen.md)（戻るボタンまたは保存後）

## 処理フロー

1. 画面表示時
   - `ipc:get-settings` APIを呼び出し
   - 設定値をフォームに反映
2. 保存ボタンクリック時
   - バリデーション実行
   - `ipc:save-settings` APIを呼び出し
   - 保存成功を通知
   - メイン画面に戻る

## 関連画面

- [メイン画面](./main-screen.md)

